import{k as w,l as P,r as s,n as $}from"./BkfL23Qh.js";function y(){const{$api:p}=w(),l=P().public.apiBaseUrl,c=s([]),u=s(1),n=s(1),g=s(9),i=s(0),f=s(!0),d=async(e="",a="",t=1)=>{try{const o={page:t,per_page:g.value};e?(o.catid=e,e=e):e="",a?(o.subid=a,a=a):a="";let r="";e!=""&&a!=""?r=await p.get(`${l}/prod/view/${e}/${a}`,{params:o}):e!=""&&a==""?r=await p.get(`${l}/prod/view/${e}}`,{params:o}):r=await p.get(`${l}/prod/view`,{params:o}),c.value=r.data.prods.data,console.log("product view page from pridctopenpagination composable"+r.data.prods.data),u.value=r.data.prods.current_page,n.value=r.data.prods.last_page,i.value=r.data.prods.total}catch(o){console.error("Error fetching subcategories:",o.response?o.response.data:o.message)}finally{f.value=!1}},v=(e=null,a=null,t)=>{t>0&&t<=n.value&&d(e,a,t)},m=$(()=>{let e=[];for(let a=1;a<=n.value;a++)e.push(a);return e});return{prods:c,currentPage:u,lastPage:n,perPage:g,totalProds:i,fetchProds:d,changePage:v,pageNumbers:m,loadingprods:f}}export{y as u};
