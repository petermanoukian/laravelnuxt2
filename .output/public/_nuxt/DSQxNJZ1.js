import{x as q,i as p,c as f,d as g,j as N,b as _,e as v,t as x,_ as C,w as S,F as P,p as B,m as U,h as O,l as w,k as $,r as u,n as k}from"./BkfL23Qh.js";import{_ as V}from"./DoXzrDiw.js";import{_ as j}from"./DxKquJDV.js";const E={props:{subcat:{type:Object,required:!0},config:{type:Object,required:!0}}},F={class:"mt-1 mb-1 col-lg-4 col-sm-6 wow fadeInUp"},A={class:"graybox"},D={key:0},I=["src","alt"],L={key:1};function R(s,r,e,o,c,l){const n=C;return p(),f("div",F,[g("div",A,[g("p",null,[r[0]||(r[0]=N(" Category : ")),_(n,{to:`/prod/viewprodbycatid/${e.subcat.catid}`},{default:v(()=>[N(x(e.subcat.cat.name),1)]),_:1},8,["to"])]),e.subcat.img?(p(),f("p",D,[_(n,{to:`/prod/viewprodbycatsub/${e.subcat.catid}/${e.subcat.id}`},{default:v(()=>[g("img",{src:`${e.config.public.BaseUrl}/images/subcat/thumb/${e.subcat.img}`,alt:e.subcat.name,class:"mt-1 mb-1 maximg link1 h-32"},null,8,I)]),_:1},8,["to"])])):(p(),f("p",L,[_(n,{to:`/prod/viewprodbycatsub/${e.subcat.catid}/${e.subcat.id}`},{default:v(()=>r[1]||(r[1]=[g("img",{src:V,alt:"Default Picture",class:"mt-1 mb-1 h-32 link1"},null,-1)])),_:1},8,["to"])])),g("p",null,[_(n,{to:`/prod/viewprodbycatsub/${e.subcat.catid}/${e.subcat.id}`,class:"link1"},{default:v(()=>[g("b",null,"â€º "+x(e.subcat.name),1)]),_:1},8,["to"])])])])}const T=q(E,[["render",R]]),z={class:"fullwidth row mt-8 mb-8"},G={key:0,class:"w-full"},M={__name:"SubcatsOpen",props:{subcats:{type:Array,required:!0},currentPage:{type:Number,required:!0},pageNumbers:{type:Number,required:!0},lastPage:{type:Number,required:!0},changePage:{type:Function,required:!0},catid:{type:Number,required:!1}},setup(s){const r=w(),e=s;return S(()=>e.subcats,o=>{console.log("Items updated now:",o)}),(o,c)=>{const l=T,n=j;return p(),f(P,null,[g("div",z,[(p(!0),f(P,null,B(s.subcats,(i,b)=>(p(),f(P,{key:i.id},[_(l,{subcat:i,catid:s.catid,config:U(r)},null,8,["subcat","catid","config"]),(b+1)%3===0?(p(),f("div",G,c[0]||(c[0]=[g("hr",{class:"my-4"},null,-1)]))):O("",!0)],64))),128))]),_(n,{currentPage:s.currentPage,pageNumbers:s.pageNumbers,lastPage:s.lastPage,changePage:s.changePage,typ:"subcatpaginater",catid:s.catid},null,8,["currentPage","pageNumbers","lastPage","changePage","catid"])],64)}}};function Q(){const{$api:s}=$(),r=w().public.apiBaseUrl,e=u([]),o=u(1),c=u(1),l=u(12),n=u(0),i=u(!0),b=async(a=1)=>{try{const t=await s.get(`${r}/cat/view?page=${a}&per_page=${l.value}`);e.value=t.data.data,o.value=t.data.current_page,c.value=t.data.last_page,n.value=t.data.total}catch(t){console.error("Error fetching items:",t.response?t.response.data:t.message)}finally{i.value=!1}},y=a=>{a>0&&a<=c.value&&(o.value=a,b(a))},h=k(()=>{let a=[];for(let t=1;t<=c.value;t++)a.push(t);return a});return{cats:e,currentPage:o,lastPage:c,perPage:l,totalCats:n,fetchCats:b,changePage:y,pageNumbers:h,loadingcats:i}}function W(){const{$api:s}=$(),r=w().public.apiBaseUrl,e=u([]),o=u(1),c=u(1),l=u(9),n=u(0),i=u(!0),b=async(a=null,t=1)=>{try{const m={page:t,per_page:l.value};let d="";a>0?(m.catid=a,a=a,d=await s.get(`${r}/subcat/view/${a}`,{params:m})):(a="",d=await s.get(`${r}/subcat/view`,{params:m})),console.log("subcat response "+d),e.value=d.data.subcats.data,console.log("subcat response 2"+d.data.subcats.data),o.value=d.data.subcats.current_page,c.value=d.data.subcats.last_page,n.value=d.data.subcats.total}catch(m){console.error("Error fetching subcategories:",m.response?m.response.data:m.message)}finally{i.value=!1}},y=(a=null,t)=>{t>0&&t<=c.value&&b(a,t)},h=k(()=>{let a=[];for(let t=1;t<=c.value;t++)a.push(t);return a});return{subcats:e,currentPage:o,lastPage:c,perPage:l,totalSubcats:n,fetchSubcats:b,changePage:y,pageNumbers:h,loadingsubcats:i}}export{M as _,W as a,Q as u};
