import{_ as D}from"./DUkboX38.js";import{_ as h}from"./DoXzrDiw.js";import{u as U,a as I,k as L,l as y,r as p,Y as f,o as M,c as l,d as n,t as b,m as s,h as P,q as E,i as r}from"./BkfL23Qh.js";import{u as Q}from"./BNM5ge7h.js";import{u as R}from"./6xvS7Wmo.js";import{u as j}from"./CsnH1xnu.js";import"./B7UVwuT_.js";import"./DxKquJDV.js";const V={class:"container-xxl py-1"},W={class:"container"},q={key:0},H={key:0},Y=["src","alt"],z={key:1},F={key:1},G={key:0},J=["src","alt"],K={key:1},O={key:2,class:"row g-4"},T={key:3,class:"row g-4 mt-4"},le={__name:"index",async setup(X){let c,i;U();const g=I(),v=y();L();const _=y().public.apiBaseUrl,{prods:u,currentPage:w,lastPage:k,changePage:x,pageNumbers:N,fetchProds:$}=R();j();const m=g.params.catid,d=g.params.subid,e=p(null),a=p(null),B=async()=>{try{const t=await(await fetch(`${_}/cat/detail/${m}`)).json();e.value=t}catch(o){console.error("Error fetching item:",o.response?o.response.data:o.message)}},A=async()=>{try{const t=await(await fetch(`${_}/subcat/detail/${d}`)).json();a.value=t}catch(o){console.error("Error fetching item:",o.response?o.response.data:o.message)}};[c,i]=f(()=>B()),await c,i(),[c,i]=f(()=>A()),await c,i(),e.value&&a.value&&Q({title:a.value.name+" "+e.value.name,meta:[{name:"description",content:a.value.name+" "+e.value.name+" Nuxt3 Laravel 11 MySQl API Products Page"},{name:"keywords",content:a.value.name+", "+e.value.name+", Nuxt3 Laravel 11 MySQl API Web Development Armenia, Web Developer Lebanon"},{property:"og:title",content:a.value.name+" "+e.value.name},{property:"og:description",content:a.value.name+" "+e.value.name+" Nuxt3 Laravel 11 MySQl API Products Page"}]}),M(async()=>{await $(m,d)});const C=p(0);return(o,t)=>{const S=D;return r(),l("div",V,[n("div",W,[t[2]||(t[2]=n("h1",{class:"text-center mb-1 wow fadeInUp","data-wow-delay":"0.1s"},"Products",-1)),e.value&&e.value.name?(r(),l("div",q,[n("h3",null,"Category: "+b(e.value.name),1),e.value.img?(r(),l("p",H,[n("img",{src:`${s(v).public.BaseUrl}/images/cat/${e.value.img}`,alt:e.value.name,class:"mt-2 mb-2 maxwidth96height300"},null,8,Y)])):(r(),l("p",z,t[0]||(t[0]=[n("img",{src:h,alt:"Default Picture",class:"mt-2 mb-2"},null,-1)])))])):P("",!0),a.value&&a.value.name?(r(),l("div",F,[n("h3",null,"SubCategory: "+b(a.value.name),1),a.value.img?(r(),l("p",G,[n("img",{src:`${s(v).public.BaseUrl}/images/subcat/${a.value.img}`,alt:e.value.name,class:"mt-2 mb-2 maxwidth96height300"},null,8,J)])):(r(),l("p",K,t[1]||(t[1]=[n("img",{src:h,alt:"Default Picture",class:"mt-2 mb-2"},null,-1)])))])):P("",!0),t[3]||(t[3]=n("div",{class:"mt-2 row"},[n("b",null,"Products ")],-1)),s(u)&&s(u).length>0?(r(),l("div",O,[(r(),E(S,{prods:s(u),currentPage:s(w),lastPage:s(k),changePage:s(x),pageNumbers:s(N),key:C.value.value,catid:s(m),subid:s(d)},null,8,["prods","currentPage","lastPage","changePage","pageNumbers","catid","subid"]))])):(r(),l("div",T," Nothing found "))])])}}};export{le as default};
