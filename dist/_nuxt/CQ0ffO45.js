import{o as S,u as $,a as B,r as l,k as g,l as b,c as n,b as f,d as t,e as M,f as D,g as v,v as x,t as w,h as y,_ as E,i as r,j}from"./BkfL23Qh.js";import{u as A}from"./C-aMhIz_.js";import{S as C,M as R}from"./BrcG7ohK.js";import"./DoXzrDiw.js";const F={class:"bg-gray-100 font-family-karla flex"},L={class:"relative w-full flex flex-col h-screen overflow-y-hidden"},q={class:"w-full h-screen overflow-x-hidden border-t flex flex-col"},H={class:"w-full flex-grow p-6"},z={key:0},G={class:"flex items-center justify-center bg-gray-100"},I={class:"fullwidth90 bg-white p-8 shadow-md rounded-lg"},J={class:"mb-4"},K={class:"mb-4"},O={key:0,class:"mt-2 text-sm text-red-600"},P={key:1,class:"mt-2 text-sm text-red-600"},Q={key:1},te={__name:"[id]",setup(W){const h=A();S(async()=>{await h.fetchUser(),T()});const _=$(),k=B(),u=l(""),a=l(""),i=l(""),c=l(""),m=k.params.id,p=l(null),{$api:N}=g(),U=b().public.apiBaseUrl,T=async()=>{try{const s=await N.get(`${U}/admin/tagg/edit/${m}`);u.value=m,p.value=s.data,a.value=p.value.name}catch(s){console.error("Error fetching item:",s.response?s.response.data:s.message)}},V=async()=>{const{$api:s}=g(),e=b().public.apiBaseUrl,d=new FormData;d.append("name",a.value);try{const o=await s.post(`${e}/admin/tagg/update/${m}`,d);c.value=" updated "+a.value+" ... you will be redircted in a monent ..."}catch(o){o.response&&o.response.status===422?i.value=o.response.data.message:i.value="An unexpected error occurred."}setTimeout(()=>{_.push("/admin/tagg/viewtagg")},300)};return(s,e)=>{const d=E;return r(),n("div",F,[f(C),t("div",L,[e[8]||(e[8]=t("header",{class:"w-full items-center bg-white py-2 px-6 hidden sm:flex"},[t("div",{class:"w-1/2"}),t("div",{class:"relative w-1/2 flex justify-end"}," Edit Tag ")],-1)),f(R),t("div",q,[t("main",H,[p.value?(r(),n("div",z,[t("div",G,[t("div",I,[e[5]||(e[5]=t("h1",{class:"text-2xl font-bold mb-4"},"Edit Tag",-1)),t("p",J,[f(d,{to:"/admin/tagg/viewctagg",class:"widthmax300 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:M(()=>e[2]||(e[2]=[t("i",{class:"fas fa-align-left mr-3"},null,-1),j("View Tags")])),_:1})]),t("form",{onSubmit:D(V,["prevent"])},[t("div",K,[e[3]||(e[3]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Full Name",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),type:"text",placeholder:"Name",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[x,a.value]])]),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"text",readonly:"",class:"mt-1 block w-full px-3 py-2 mb-4 mt-4 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},null,512),[[x,u.value]]),e[4]||(e[4]=t("button",{type:"submit",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},"Update",-1)),i.value?(r(),n("p",O,w(i.value),1)):y("",!0),c.value?(r(),n("p",P,w(c.value),1)):y("",!0)],32)])])])):(r(),n("div",Q,e[6]||(e[6]=[t("p",null,"Loading...",-1)])))]),e[7]||(e[7]=t("footer",{class:"w-full bg-white text-right p-4"},null,-1))])])])}}};export{te as default};
