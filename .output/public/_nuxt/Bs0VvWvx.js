import{u as B,a as R,r as g,k as $,l as m,o as V,c as l,b as u,d as e,j as f,e as A,m as s,t as p,q as U,P as D,_ as M,i as o}from"./BkfL23Qh.js";import{u as j,_ as E}from"./-JpQcZL-.js";import{_ as L}from"./DoXzrDiw.js";import{u as q}from"./C-aMhIz_.js";import{S as H,M as T}from"./BrcG7ohK.js";const z={class:"bg-gray-100 font-family-karla flex"},F={class:"relative w-full flex flex-col h-screen overflow-y-hidden"},G={class:"w-full h-screen overflow-x-hidden border-t flex flex-col"},I={class:"w-full flex-grow p-6"},J={class:"text-2xl font-bold mb-4"},K={key:0},O={key:0},Q=["src","alt"],W={key:1},X={key:1},Y={key:2},Z={key:3},re={__name:"[catid]",setup(ee){const{subcats:i,currentPage:b,lastPage:h,changePage:_,pageNumbers:y,fetchSubcats:c}=j(),v=m();B();const r=R().params.catid,n=g(null),{$api:x}=$(),w=m().public.apiBaseUrl,k=async()=>{try{const a=await x.get(`${w}/admin/cat/detail/${r}`);n.value=a.data,console.log("line33"+a.data),console.log("line34"+a.data)}catch(a){alert(a),console.error("Error fetching item:",a.response?a.response.data:a.message)}},P=q();V(async()=>{await P.fetchUser(),await c(r),await k()});const d=g(0),S=()=>{d.value+=1,c(r)};return(a,t)=>{const C=M,N=E;return o(),l("div",z,[u(H),e("div",F,[t[5]||(t[5]=e("header",{class:"w-full items-center bg-white py-2 px-6 hidden sm:flex"},[e("div",{class:"w-1/2"}),e("div",{class:"relative w-1/2 flex justify-end"}," View SubCategories By Category ")],-1)),u(T),e("div",G,[e("main",I,[e("h1",J,[t[1]||(t[1]=f("View SubCategories By Category ")),u(C,{to:`/admin/subcat/addsubcat/${s(r)}`,class:"widthmax300 marginleft5 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:A(()=>t[0]||(t[0]=[e("i",{class:"fas fa-align-left mr-3"},null,-1),f("Add SubCategory to this category ")])),_:1},8,["to"])]),n.value?(o(),l("div",K,[e("h1",null,"Category Detail "+p(n.value.name),1),n.value.img?(o(),l("p",O,[e("img",{src:`${s(v).public.BaseUrl}/images/cat/thumb/${n.value.img}`,alt:n.value.name,class:"mt-2 mb-2"},null,8,Q)])):(o(),l("p",W,t[2]||(t[2]=[e("img",{src:L,alt:"Default Picture",class:"mt-2 mb-2"},null,-1)])))])):(o(),l("div",X,t[3]||(t[3]=[e("p",null,"Loading category...",-1)]))),s(i)&&s(i).length>0?(o(),l("div",Y,[(o(),U(N,{subcats:s(i),currentPage:s(b),lastPage:s(h),changePage:s(_),pageNumbers:s(y),key:d.value.value,catid:s(r)},null,8,["subcats","currentPage","lastPage","changePage","pageNumbers","catid"]))])):(o(),l("div",Z," Nothing found ")),e("p",null,"Current Route: "+p((a._.provides[D]||a.$route).path),1),e("button",{onClick:S,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-3"},"Refresh Route")]),t[4]||(t[4]=e("footer",{class:"w-full bg-white text-right p-4"},null,-1))])])])}}};export{re as default};
